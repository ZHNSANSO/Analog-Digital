
import { Question, QuestionType } from '../types';

// 1. 题目基础信息
const QUESTIONS_BASE = [
  { id: 'af_1', number: 1, type: QuestionType.FILL_BLANK, content: '在 N 型半导体中，多数载流子是______；在 P 型半导体中，多数载流子是______。' },
  { id: 'af_2', number: 2, type: QuestionType.FILL_BLANK, content: '场效应管从结构上分为结型和______两大类，它属于______控制性器件。' },
  { id: 'af_3', number: 3, type: QuestionType.FILL_BLANK, content: '为了使高阻信号源与低阻负载能很好地配合，可以在信号源与负载之间接入______（共射、共集、共基）组态放大电路。' },
  { id: 'af_4', number: 4, type: QuestionType.FILL_BLANK, content: '在多级放大器中，中间某一级的______电阻是上一级的负载。' },
  { id: 'af_5', number: 5, type: QuestionType.FILL_BLANK, content: '集成运放应用电路如果工作在线性放大状态，一般要引入______。' },
  { id: 'af_6', number: 6, type: QuestionType.FILL_BLANK, content: '根据下图中各三极管的电位，判断它们所处的状态分别为______、______、______。(a: 0.7V/0V/0.5V; b: 6V/5.7V/12V; c: 3V/4V/12V)', imageUrl: 'placeholder' },
  { id: 'af_7', number: 7, type: QuestionType.FILL_BLANK, content: '正弦波振荡电路通常由______、______、______和______四部分组成。' },
  { id: 'af_8', number: 8, type: QuestionType.FILL_BLANK, content: '当 PN 结外加正向电压时，P 区接电源______极，N 区接电源极，此时，扩散电流______漂移电流。' },
  { id: 'af_9', number: 9, type: QuestionType.FILL_BLANK, content: '二极管最主要的特性是______。' },
  { id: 'af_10', number: 10, type: QuestionType.FILL_BLANK, content: '一个放大电路的对数幅频特性如图 1-3 可知，中频放大倍数 \\|A_{vm}| = ______。' },
  { id: 'af_11', number: 11, type: QuestionType.FILL_BLANK, content: '乙类放大器中每个晶体管的导通角是______，该放大器的理想效率为______，每个管子所承受的最大电压为______。' },
  { id: 'af_12', number: 12, type: QuestionType.FILL_BLANK, content: '差动放大电路的基本功能是对差模信号的______作用和对共模信号的______作用。' },
  { id: 'af_13', number: 13, type: QuestionType.FILL_BLANK, content: '小功率直流稳压电源由变压、______、______、______四部分组成。' },
  { id: 'af_14', number: 14, type: QuestionType.FILL_BLANK, content: '用万用表测量二极管极性时...若测得阻值较小，则黑表笔接的是二极管______极。' },
  { id: 'af_15', number: 15, type: QuestionType.FILL_BLANK, content: '场效应管是______控制器件，只依靠______导电。' },
  { id: 'af_16', number: 16, type: QuestionType.FILL_BLANK, content: '为了稳定输出电压和提高输入电阻，应引入______反馈；若开环增益为 1000，反馈系数为 0.099，则闭环增益为______。' },
  { id: 'af_17', number: 17, type: QuestionType.FILL_BLANK, content: '在双端输入，单端输出的差分放大电路中，发射极电阻 \\R_E 对______输入信号无影响，对______输入信号具有抑制作用。' },
  { id: 'af_18', number: 18, type: QuestionType.FILL_BLANK, content: '若乙类互补对称功率放大电路 (OCL) 的 \\V_{CC}=15V, v_i=10\\sin\\omega t (V), R_L=10\\Omega，则 \\P_o = ______ W。' },
  { id: 'af_19', number: 19, type: QuestionType.FILL_BLANK, content: '在构成电压比较器时集成运放工作在开环或______状态。' },
  { id: 'af_20', number: 20, type: QuestionType.FILL_BLANK, content: '负反馈放大电路产生自激振荡的条件是______。' },
  { id: 'af_21', number: 21, type: QuestionType.FILL_BLANK, content: 'PN 结反向偏置时，PN 结的内电场______。PN 具有______特性。' },
  { id: 'af_22', number: 22, type: QuestionType.FILL_BLANK, content: '硅二极管导通后，其管压降是恒定的...典型值为______伏；其死区电压 \\V_{th} 约为______伏。' },
  { id: 'af_23', number: 23, type: QuestionType.FILL_BLANK, content: '为了保证三极管工作在放大区，要求：发射结______偏置，集电结______偏置。对于 NPN 型三极管，应使 \\V_{BC} ______。' },
  { id: 'af_24', number: 24, type: QuestionType.FILL_BLANK, content: '放大器级间耦合方式主要有阻容 (RC) 耦合、直接耦合和______耦合三大类。' },
  { id: 'af_25', number: 25, type: QuestionType.FILL_BLANK, content: '在三极管组成的三种不同组态的放大电路中，共射和共基组态有电压放大作用，______组态有电流放大作用，______组态有倒相作用；______组态输入电阻最高。' },
  { id: 'af_26', number: 26, type: QuestionType.FILL_BLANK, content: '将交流变直流脉动直流电的电路称为整流电路；半波整流电路输出的直流电压平均值等于输入的交流电压有效值的______倍；全波...为______倍。' },
  { id: 'af_27', number: 27, type: QuestionType.FILL_BLANK, content: '为了分别达到下列要求，应引入何种类型的反馈：降低电路对信号源索取的电流：______。当环境温度变化...稳定输出电流：______。' },
  { id: 'af_28', number: 28, type: QuestionType.FILL_BLANK, content: '某负反馈放大电路的开环放大倍数 A=100000，反馈系数 F=0.01，闭环放大倍数 \\A_f \\approx ______。' },
  { id: 'af_29', number: 29, type: QuestionType.FILL_BLANK, content: '场效应管属于______控制型器件，而晶体管 BJT 则是______控制型器件。' },
  { id: 'af_30', number: 30, type: QuestionType.FILL_BLANK, content: '有一差分放大电路，\\A_{ud}=100, A_{uc}=0, u_{i1}=10mV, u_{i2}=5mV，则 \\u_{id}= ______，\\u_{ic}= ______，输出电压 \\|u_o|= ______。' },
  { id: 'af_31', number: 31, type: QuestionType.FILL_BLANK, content: '已知放大电路加 1mV 信号时输出 1V，加负反馈后需 10mV 才有相同输出。反馈深度为______，反馈系数为______。' },
  { id: 'af_32', number: 32, type: QuestionType.FILL_BLANK, content: '放大器级间耦合方式主要有阻容 (RC) 耦合、直接耦合和______耦合三大类。' },
  { id: 'af_33', number: 33, type: QuestionType.FILL_BLANK, content: '交流放大电路和三极管的输出特性、交、直流负载线如下图所示，负载上获得的最大不失真输出电压的峰峰值是______V。' },
  { id: 'af_34', number: 34, type: QuestionType.FILL_BLANK, content: '对于共射、共集和共基...希望电压放大倍数大，可选用______组态；希望带负载能力强，应选用______组态；若希望从信号源索取的电流小，应选用______组态；若希望高频性能好，应选用______组态。' },
  { id: 'af_35', number: 35, type: QuestionType.FILL_BLANK, content: '一个放大电路，空载输出 6V，负载 \\4\\Omega 时输出 4V，则其输出电阻为______。' },
  { id: 'af_36', number: 36, type: QuestionType.FILL_BLANK, content: '集成运算放大器是多级______放大电路，其第一级通常采用______，因为这种电路能有效抑制______现象。' },
  { id: 'af_37', number: 37, type: QuestionType.FILL_BLANK, content: '一个放大电路，为稳定输出电流和减小输入电阻，应引入______负反馈。' },
  { id: 'af_38', number: 38, type: QuestionType.FILL_BLANK, content: '乙类互补推挽功率放大电路会产生______失真。' },
  { id: 'af_39', number: 39, type: QuestionType.FILL_BLANK, content: '三极管是 (      ) 控制元件。' },
  { id: 'af_40', number: 40, type: QuestionType.FILL_BLANK, content: '场效应管是一种利用 (      ) 效应来控制电流大小的半导体器件。根据结构不同...分为...和 (      ) 场效应管。' },
  { id: 'af_41', number: 41, type: QuestionType.FILL_BLANK, content: '差分放大电路能够抑制 (      ) 信号，放大 (      ) 信号。' },
  { id: 'af_42', number: 42, type: QuestionType.FILL_BLANK, content: '为了稳定三极管放大电路的静态工作点，采用 (      ) 负反馈，为了减小输入电阻采用 (      ) 负反馈。' },
  { id: 'af_43', number: 43, type: QuestionType.FILL_BLANK, content: '为了抑制混入输入信号中的工频干扰信号，在电子系统中常选用 (      ) 滤波电路来滤除；而 (      ) 滤波电路能够有效抑制高频干扰信号。' },
  { id: 'af_44', number: 44, type: QuestionType.FILL_BLANK, content: '在小功率直流稳压电源中，多采用 (      ) 式稳压电路；大功率稳压电源一般采用 (      ) 稳压电路。' },
  { id: 'af_45', number: 45, type: QuestionType.FILL_BLANK, content: '模拟信号的特点是在时间和 (      ) 上均连续。' },
  { id: 'af_46', number: 46, type: QuestionType.FILL_BLANK, content: '由漂移形成的电流是反向电流，其大小决定于 (      )，而与外电场 (      )。' },
  { id: 'af_47', number: 47, type: QuestionType.FILL_BLANK, content: '三极管放大电路共有三种组态分别是 (      )、(      )、(      ) 放大电路。' },
  { id: 'af_48', number: 48, type: QuestionType.FILL_BLANK, content: '差分放大电路常用集成电路的 (      ) 级，功率放大电路常用集成电路的 (      ) 级。' },
  { id: 'af_49', number: 49, type: QuestionType.FILL_BLANK, content: '构成联反馈式稳压电路的基本单元，除了调整管、基准电压产生电路外，还有 (      ) 电路和 (      ) 环节。' },
];

// 2. 答案库
const ANSWERS: Record<string, string[]> = {
  'af_1': ['电子', '空穴'],
  'af_2': ['绝缘栅型', '电压'],
  'af_3': ['共集'],
  'af_4': ['输入'],
  'af_5': ['负反馈'],
  'af_6': ['饱和', '放大', '截止'],
  'af_7': ['放大电路', '选频网络', '正反馈网络', '稳幅环节'],
  'af_8': ['正', '大于'],
  'af_9': ['单向导电性'],
  'af_10': ['100'],
  'af_11': ['180^\\circ', '78.5%', '2V_{CC}'],
  'af_12': ['放大', '抑制'],
  'af_13': ['整流', '滤波', '稳压'],
  'af_14': ['正(阳)'],
  'af_15': ['电压', '多子'],
  'af_16': ['电压串联负', '10'],
  'af_17': ['差模', '共模'],
  'af_18': ['5'],
  'af_19': ['正反馈'],
  'af_20': ['1+\\dot{A}\\dot{F}=0'],
  'af_21': ['加强', '单向导电'],
  'af_22': ['0.7', '0.5'],
  'af_23': ['正', '反', '<0'],
  'af_24': ['变压器'],
  'af_25': ['共集', '共射', '共集'],
  'af_26': ['0.45', '0.9'],
  'af_27': ['串联负反馈', '电流负反馈'],
  'af_28': ['100'],
  'af_29': ['电压', '电流'],
  'af_30': ['5mV', '7.5mV', '0.5V'],
  'af_31': ['10', '0.01'],
  'af_32': ['变压器'],
  'af_33': ['3'],
  'af_34': ['共射', '共集', '共集', '共基'],
  'af_35': ['2\\Omega'],
  'af_36': ['直接耦合', '差动放大电路', '零点漂移'],
  'af_37': ['电流并联'],
  'af_38': ['交越'],
  'af_39': ['电流'],
  'af_40': ['电场', '绝缘栅型'],
  'af_41': ['共模', '差模'],
  'af_42': ['直流', '并联'],
  'af_43': ['带阻', '低通'],
  'af_44': ['串联反馈', '开关'],
  'af_45': ['数值'],
  'af_46': ['温度', '无关'],
  'af_47': ['共射', '共基', '共集'],
  'af_48': ['输入', '输出'],
  'af_49': ['比较放大', '取样'],
};

// 3. 详细解析库
const EXPLANATIONS: Record<string, string> = {
  'af_1': 'N型半导体掺杂五价元素，自由电子多；P型掺杂三价，空穴多。',
  'af_2': '场效应管(FET)分为结型(JFET)和绝缘栅型(MOSFET)；依靠电场效应控制电流。',
  'af_10': '40dB 对应电压放大倍数为 100 倍。\\( 20\\log A_u = 40 \\Rightarrow A_u = 100 \\)。',
  'af_16': '电压串联负反馈稳定输出电压并提高输入电阻。\\A_f = \\frac{A}{1+AF} \\approx \\frac{1}{F} = 10。',
  'af_18': '最大输出功率 \\P_o = \\frac{U_{om}^2}{2R_L} = \\frac{10^2}{20} = 5W。',
  'af_28': '深度负反馈下，闭环增益 \\A_f \\approx 1/F = 1/0.01 = 100。',
  'af_30': '差模输入 \\u_{id} = u_{i1} - u_{i2} = 5mV；共模输入 \\u_{ic} = (u_{i1}+u_{i2})/2 = 7.5mV；输出 \\u_o = A_{ud} u_{id} = 100 \\times 5mV = 500mV = 0.5V。',
  'af_35': '利用戴维南定理：\\U_o = U_{oc} \\frac{R_L}{R_o + R_L} \\Rightarrow 4 = 6 \\times \\frac{4}{R_o + 4} \\Rightarrow R_o = 2\\Omega。',
};

// 4. 导出合并数据
export const ANALOG_FILL_QUESTIONS: Question[] = QUESTIONS_BASE.map(q => ({
  ...q,
  answer: ANSWERS[q.id] || '暂无答案',
  explanation: EXPLANATIONS[q.id] || '基本概念题，参考教材相关章节。'
}));
